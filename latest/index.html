<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="jInv.jl - A Flexible Flexible Julia Package for PDE Parameter Estimation">
  <meta name="author" content="JuliaInv">
  
  <title>jInv.jl</title>
  

  <link rel="shortcut icon" href="./img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="./css/theme.css" type="text/css" />
  <link rel="stylesheet" href="./css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="./css/highlight.css">
  <link href="./assets/Documenter.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "None";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = "/";
  </script>
  
  <script src="./js/jquery-2.1.1.min.js"></script>
  <script src="./js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="./js/highlight.pack.js"></script>
  <script src="./js/theme.js"></script> 
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script src="./assets/mathjaxhelper.js"></script>

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> jInv.jl</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href=".">Home</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#jinv-a-flexible-flexible-julia-package-for-pde-parameter-estimation">jInv - A Flexible Flexible Julia Package for PDE Parameter Estimation</a></li>
                
                    <li><a class="toctree-l4" href="#build-status">Build status</a></li>
                
                    <li><a class="toctree-l4" href="#package-structure">Package Structure</a></li>
                
                    <li><a class="toctree-l4" href="#basic-installation">Basic Installation</a></li>
                
                    <li><a class="toctree-l4" href="#optional-packages-for-high-performance">Optional Packages for High-Performance</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="Mesh/">Mesh</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="LinearSolvers/">LinearSolvers</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="InverseSolve/">InverseSolve</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="ForwardShare/">ForwardShare</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="Utils/">Utils</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="About/">About</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">jInv.jl</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Home</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/JuliaInv/jInv.jl" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><a id='jInv-A-Flexible-Flexible-Julia-Package-for-PDE-Parameter-Estimation-1'></a></p>
<h1 id="jinv-a-flexible-flexible-julia-package-for-pde-parameter-estimation">jInv - A Flexible Flexible Julia Package for PDE Parameter Estimation</h1>
<p><a id='Build-status-1'></a></p>
<h3 id="build-status">Build status</h3>
<p><a href="https://travis-ci.org/JuliaInv/jInv.jl"><img alt="Build Status" src="https://travis-ci.org/JuliaInv/jInv.jl.svg?branch=master" /></a>  <a href="https://coveralls.io/github/JuliaInv/jInv.jl?branch=master"><img alt="Coverage Status" src="https://coveralls.io/repos/github/JuliaInv/jInv.jl/badge.svg?branch=master" /></a> <a href="https://ci.appveyor.com/project/JuliaInv/jinv-jl-81lel"><img alt="Build status" src="https://ci.appveyor.com/api/projects/status/0pxgtmm08b0w6wgh?svg=true" /></a></p>
<p><code>jInv</code> is a flexible framework for solving PDE parameter estimation problems using Julia. Problems of this sort arise in various applications such as geophysical or medical imaging.  They are typically ill-posed and computationally challenging and developing robust and fast inversion algorithms is an active field of research. <code>jInv</code> aims at advancing this field by providing efficient and easy-to-extend core functions commonly used for solving real-world problems.</p>
<p><a id='Package-Structure-1'></a></p>
<h2 id="package-structure">Package Structure</h2>
<p>The source code of <code>jInv</code> is divided into five submodules: </p>
<ol>
<li><code>Mesh</code> - regular and tensor meshes in 2D and 3D as well as differential operators.</li>
<li><code>LinearSolvers</code> - interfaces to sparse and (if installed) direct linear solvers that can be used for solving the discretized PDEs.</li>
<li><code>InverseSolve</code> - methods commonly used in inverse problems such as misfit functions, regularization and numerical optimization. </li>
<li><code>ForwardShare</code> - methods for solving forward problems in parallel.</li>
<li><code>Utils</code> - utility functions</li>
</ol>
<p><a id='Basic-Installation-1'></a></p>
<h2 id="basic-installation">Basic Installation</h2>
<p>To install <code>jInv</code> start a Julia session and type in the REPL (we currently support Julia versions 0.4.x):</p>
<pre><code class="julia">INFO: Cloning jInv from https://github.com/JuliaInv/jInv.jl
julia&gt; Pkg.clone(&quot;https://github.com/JuliaInv/jInv.jl&quot;,&quot;jInv&quot;)
ERROR: jInv already exists

julia&gt; Pkg.build(&quot;jInv&quot;)

INFO: Testing jInv
3-dimensional regular mesh of size [3,4,5]
Number of cells:   60
Number of faces:   [80,75,72] = 227
Number of edges:   [90,96,100] = 286
Number of nodes:   120
Coordinate origin: [1.2,0.0,0.0]
Domain size:       [1.2,2.4,0.0,1.1,0.0,2.3]
Cell size:         [0.39999999999999997,0.275,0.45999999999999996]
2-dimensional regular mesh of size [3,4]
Number of cells:   12
Number of faces:   [16,15] = 31
Number of edges:   [15,16] = 31
Number of nodes:   20
Coordinate origin: [1.2,0.0]
Domain size:       [1.2,2.4,0.0,1.1]
Cell size:         [0.39999999999999997,0.275]
3-dimensional tensor mesh of size [4,5,6]
Number of cells:   120
Number of faces:   [150,144,140] = 434
Number of edges:   [168,175,180] = 523
Number of nodes:   210
Coordinate origin: [0.0,0.0,0.0]
Domain size:       1.3916002796624147m x 2.7414044665456108m x 3.411414702169256m
Minimum cell size: 0.11225575875268978m x 0.4185933816699485m x 0.04851897687428908m
Maximum cell size: 0.6693966917217264m x 0.9056559925479055m x 0.9169656435270048m
==== compare regular and tensor mesh ====
    test cell-centered axes...passed
    test nodal axes...passed
    test cell-centered grid...passed
    test nodal grid...passed
    test face grid...passed
    test edge grid...passed
    test volume...passed
    test area...passed
    test length...passed
    test counting...passed
    test nodal gradient matrix...passed
    test divergence matrix...passed
    test curl matrix...passed
    test face average matrix...passed
    test edge average matrix...passed
==== test differential operators ====
    testing differential operators for jInv.Mesh.TensorMesh3D...passed!
    testing differential operators for jInv.Mesh.RegularMesh...passed!
    testing differential operators for jInv.Mesh.TensorMesh3D...passed!
   test getInterpolationMatrix (RegularMesh) ...  dim=2 dim=3 passed
   test getInterpolationMatrix (TensorMesh) ... passed
==== test differential operators ====
    testing nodal averaging for jInv.Mesh.TensorMesh3D...passed!
    testing nodal averaging for jInv.Mesh.RegularMesh...passed!
    testing nodal averaging for jInv.Mesh.TensorMesh3D...passed!
    testing nodal averaging for jInv.Mesh.RegularMesh...passed!
==== test boundary and inner node indices ====
    testing boundary nodes for jInv.Mesh.TensorMesh3D...passed!

    testing boundary nodes for jInv.Mesh.RegularMesh...passed!

    testing boundary nodes for jInv.Mesh.RegularMesh...passed!

==== test persistency of linear operators ====
=== test getEdgeIntegralOfPolygonalChain ===
 Mesh: All tests passed!
test prepareMesh2Mesh
compare remote versions with local ones
test interpGlobal2Local
test interpLocal2Global
 Testing module Utils
   Testing sparseUtils
   sparseUtils: All tests passed!
testing sortpermFast
testing uniqueidx
   test checkDerivative ...        h           E0          E1          O1          O2     OK?
1.000e-01   8.808e-01   4.287e-01   0.000e+00   0.000e+00       0
1.000e-02   1.267e-01   4.287e-03   8.422e-01   2.000e+00       1
1.000e-03   1.305e-02   4.287e-05   9.870e-01   2.000e+00       1
1.000e-04   1.309e-03   4.287e-07   9.987e-01   2.000e+00       1
1.000e-05   1.310e-04   4.287e-09   9.999e-01   2.000e+00       1
1.000e-06   1.310e-05   4.287e-11   1.000e+00   2.000e+00       1
1.000e-07   1.310e-06   4.287e-13   1.000e+00   2.000e+00       1
1.000e-08   1.310e-07   4.245e-15   1.000e+00   2.004e+00       1
1.000e-09   1.310e-08   1.287e-16   1.000e+00   1.519e+00       1
1.000e-10   1.310e-09   0.000e+00   1.000e+00   Inf     1
        h          E0          E1          O1          O2     OK?
1.000e-01   4.470e-02   1.137e-03   0.000e+00   0.000e+00       0
1.000e-02   4.424e-03   1.137e-05   1.004e+00   2.000e+00       1
1.000e-03   4.420e-04   1.137e-07   1.000e+00   2.000e+00       1
1.000e-04   4.419e-05   1.137e-09   1.000e+00   2.000e+00       1
1.000e-05   4.419e-06   1.137e-11   1.000e+00   2.000e+00       1
1.000e-06   4.419e-07   1.137e-13   1.000e+00   2.000e+00       1
1.000e-07   4.419e-08   1.218e-15   1.000e+00   1.970e+00       1
1.000e-08   4.419e-09   1.205e-16   1.000e+00   1.005e+00       1
1.000e-09   4.419e-10   1.078e-16   1.000e+00   4.846e-02       1
1.000e-10   4.419e-11   1.363e-16   1.000e+00   -1.021e-01      1
passed
 Utils: All tests passed
 test module InverseSolve
        checkDerivative of jInv.InverseSolve.expMod
        checkDerivative of jInv.InverseSolve.boundMod
        checkDerivative of jInv.InverseSolve.fMod
Gradient test for jInv.InverseSolve.SSDFun (real)
Gradient test for jInv.InverseSolve.HuberFun (real)
Hessian test for jInv.InverseSolve.SSDFun (real)
Gradient test for jInv.InverseSolve.SSDFun (complex)
Hessian test for jInv.InverseSolve.SSDFun (complex)
WARNING: skipped
checkDerivative of (anonymous function)
checkDerivative of (anonymous function)
checkDerivative of jInv.InverseSolve.smallnessReg
checkDerivative of (anonymous function)
checkDerivative of jInv.InverseSolve.wdiffusionRegNodal
checkDerivative of jInv.InverseSolve.wTVRegNodal
checkDerivative of jInv.InverseSolve.logBarrier
checkDerivative of jInv.InverseSolve.logBarrierSquared
i.LS           F           R    alpha[1]       Jc/J0     #Active
  1.0   1.53e+02    0.00e+00    1.00e+00    1.00e+00      0
   .1   4.54e+00    5.44e+00            6.51e-02
  2.0   4.54e+00    5.44e+00    1.00e+00    6.51e-02      1
   .1   3.37e+00    5.97e+00            6.09e-02
  3.0   3.37e+00    5.97e+00    1.00e+00    6.09e-02      1
   .1   3.39e+00    5.94e+00            6.08e-02
  4.0   3.39e+00    5.94e+00    1.00e+00    6.08e-02      1
   .1   3.38e+00    5.94e+00            6.08e-02
  5.0   3.38e+00    5.94e+00    1.00e+00    6.08e-02      1
   .1   3.38e+00    5.94e+00            6.07e-02
projGNCG iterated maxIter=5 times but reached only stepNorm of 0.03562767246433429 instead 0.0001.
i.LS           F           R    alpha[1]       Jc/J0     #Active
  1.0   1.53e+02    0.00e+00    1.00e+00    1.00e+00      0
   .1   4.54e+00    5.44e+00            6.51e-02
  2.0   4.54e+00    5.44e+00    1.00e+00    6.51e-02      1
   .1   3.37e+00    5.97e+00            6.09e-02
  3.0   3.37e+00    5.97e+00    1.00e+00    6.09e-02      1
   .1   3.39e+00    5.94e+00            6.08e-02
  4.0   3.39e+00    5.94e+00    1.00e+00    6.08e-02      1
   .1   3.38e+00    5.94e+00            6.08e-02
  5.0   3.38e+00    5.94e+00    1.00e+00    6.08e-02      1
   .1   3.38e+00    5.94e+00            6.07e-02
projGNCG iterated maxIter=5 times but reached only stepNorm of 0.03562767246433429 instead 0.0001.
 InverseSolve: All tests passed!
i.LS           F           R    alpha[1]       Jc/J0     #Active
  1.0   2.72e+01    0.00e+00    1.00e+00    1.00e+00      0
   .1   1.69e+00    3.27e+00            1.82e-01
  2.0   1.69e+00    3.27e+00    1.00e+00    1.82e-01      0
   .1   1.42e+00    3.41e+00            1.78e-01
  3.0   1.42e+00    3.41e+00    1.00e+00    1.78e-01      0
   .1   1.41e+00    3.41e+00            1.78e-01
  4.0   1.41e+00    3.41e+00    1.00e+00    1.78e-01      0
   .1   1.41e+00    3.41e+00            1.78e-01
  5.0   1.41e+00    3.41e+00    1.00e+00    1.78e-01      0
   .1   1.41e+00    3.41e+00            1.78e-01
projGNCG reached desired accuracy at iteration 5.
i.LS           F           R    alpha[1]       Jc/J0     #Active
  1.0   2.72e+01    0.00e+00    1.00e+00    1.00e+00      0
   .1   1.69e+00    3.27e+00            1.82e-01
  2.0   1.69e+00    3.27e+00    1.00e+00    1.82e-01      0
   .1   1.42e+00    3.41e+00            1.78e-01
  3.0   1.42e+00    3.41e+00    1.00e+00    1.78e-01      0
   .1   1.41e+00    3.41e+00            1.78e-01
  4.0   1.41e+00    3.41e+00    1.00e+00    1.78e-01      0
   .1   1.41e+00    3.41e+00            1.78e-01
  5.0   1.41e+00    3.41e+00    1.00e+00    1.78e-01      0
   .1   1.41e+00    3.41e+00            1.78e-01
projGNCG reached desired accuracy at iteration 5.
i.LS           F           R    alpha[1]       Jc/J0
  1.0   2.72e+01    0.00e+00    1.00e+00    1.00e+00
   .1   1.69e+00    3.33e+00            1.85e-01
  2.0   1.69e+00    3.33e+00    1.00e+00    1.85e-01
   .1   1.42e+00    3.42e+00            1.78e-01
  3.0   1.42e+00    3.42e+00    1.00e+00    1.78e-01
   .1   1.47e+00    3.37e+00            1.78e-01
  4.0   1.47e+00    3.37e+00    1.00e+00    1.78e-01
   .1   1.47e+00    3.37e+00            1.78e-01
  5.0   1.47e+00    3.37e+00    1.00e+00    1.78e-01
   .1   1.47e+00    3.37e+00            1.78e-01
barrierGNCG iterated maxIter=5 times but reached only stepNorm of 0.0004039216416031888 instead 0.0001.
i.LS           F           R    alpha[1]       Jc/J0
  1.0   2.72e+01    0.00e+00    1.00e+00    1.00e+00
   .1   1.69e+00    3.33e+00            1.85e-01
  2.0   1.69e+00    3.33e+00    1.00e+00    1.85e-01
   .1   1.42e+00    3.42e+00            1.78e-01
  3.0   1.42e+00    3.42e+00    1.00e+00    1.78e-01
   .1   1.47e+00    3.37e+00            1.78e-01
  4.0   1.47e+00    3.37e+00    1.00e+00    1.78e-01
   .1   1.47e+00    3.37e+00            1.78e-01
  5.0   1.47e+00    3.37e+00    1.00e+00    1.78e-01
   .1   1.47e+00    3.37e+00            1.78e-01
barrierGNCG iterated maxIter=5 times but reached only stepNorm of 0.0004039216416031888 instead 0.0001.
Starting projGNCG minimization with alpha 1 of 3
alpha = 100.0
i.LS           F           R    alpha[1]       Jc/J0     #Active
  1.0   2.72e+01    0.00e+00    1.00e+02    1.00e+00      0
   .1   2.43e+01    1.41e+00            9.45e-01
  2.0   2.43e+01    1.41e+00    1.00e+02    9.45e-01      0
   .1   2.43e+01    1.41e+00            9.45e-01
projGNCG iterated maxIter=2 times but reached only stepNorm of 0.0014887462037553416 instead 0.0001.
[27.17951309473637,24.258684543673425,24.259215389105595]
Starting projGNCG minimization with alpha 2 of 3
alpha = 10.0
i.LS           F           R    alpha[1]       Jc/J0     #Active
  1.0   2.43e+01    0.00e+00    1.00e+01    1.00e+00      0
   .1   1.03e+01    5.33e+00            6.43e-01
  2.0   1.03e+01    5.33e+00    1.00e+01    6.43e-01      0
   .1   1.03e+01    5.33e+00            6.43e-01
projGNCG iterated maxIter=2 times but reached only stepNorm of 0.0015397957102291637 instead 0.0001.
[24.259215389105595,10.272924102292528,10.275524806798767]
iteratedTikhonov exiting after reaching desired misfit
Starting projGNCG minimization with alpha 1 of 3
alpha = 100.0
i.LS           F           R    alpha[1]       Jc/J0     #Active
  1.0   2.72e+01    0.00e+00    1.00e+02    1.00e+00      0
   .1   2.43e+01    1.41e+00            9.45e-01
  2.0   2.43e+01    1.41e+00    1.00e+02    9.45e-01      0
   .1   2.43e+01    1.41e+00            9.45e-01
projGNCG iterated maxIter=2 times but reached only stepNorm of 0.0014887462037553416 instead 0.0001.
[27.17951309473637,24.258684543673425,24.259215389105595]
Starting projGNCG minimization with alpha 2 of 3
alpha = 10.0
i.LS           F           R    alpha[1]       Jc/J0     #Active
  1.0   2.43e+01    0.00e+00    1.00e+01    1.00e+00      0
   .1   1.03e+01    5.33e+00            6.43e-01
  2.0   1.03e+01    5.33e+00    1.00e+01    6.43e-01      0
   .1   1.03e+01    5.33e+00            6.43e-01
projGNCG iterated maxIter=2 times but reached only stepNorm of 0.0015397957102291637 instead 0.0001.
[24.259215389105595,10.272924102292528,10.275524806798767]
iteratedTikhonov exiting after reaching desired misfit
===  Example 2D DivSigGrad ====
cg achieved desired tolerance at iteration 6. Residual norm is 9.12e-06.
bcgstb achieved desired tolerance at iteration 3.5. Residual norm is 2.50e-06.
===  Test for nonsymmetric matrices ====
===  Example 2D DivSigGrad ====
blockCG achieved desired tolerance at iteration 6. Residual norm is 2.50e-05.
blockBiCGSTB achieved desired tolerance at iteration 3.5. Residual norm is 1.78e-05.
===  Test for nonsymmetric matrices ====
===  Test Julia Wrapper: Symmetric ====
===  Test Julia Wrapper: nonsymmetric matrices ====
===  End Test Julia Wrapper ====
INFO: jInv tests passed
</code></pre>

<p>The above commands clone the latest version of <code>jInv</code> and install the dependency <a href="https://github.com/lruthotto/KrylovMethods.jl"><code>KrylovMethods.jl</code></a>, which provides iterative methods for solving (sparse) linear systems. Finally, some unit tests are run. </p>
<p><a id='Optional-Packages-for-High-Performance-1'></a></p>
<h2 id="optional-packages-for-high-performance">Optional Packages for High-Performance</h2>
<p>For better performance when solving parameter estimation problems with linear PDE constraints, <code>jInv</code> automatically looks for high-end linear algebra packages. Currently, the following packages are supported:</p>
<ol>
<li><a href="https://github.com/JuliaSparse/MUMPS.jl"><code>MUMPS.jl</code></a> - wrapper for MUMPS. Used as a direct PDE solver</li>
<li><a href="https://github.com/lruthotto/ParSpMatVec.jl"><code>ParSpMatVec.jl</code></a> - shared memory implementation for sparse matrix vector products</li>
<li><a href="https://github.com/JuliaSparse/PARDISO.jl"><code>PARDISO.jl</code></a> - wrapper for PARDISO solver</li>
</ol>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Mesh/" class="btn btn-neutral float-right" title="Mesh">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/JuliaInv/jInv.jl" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
      
        <span style="margin-left: 15px"><a href="Mesh/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>

<!--
MkDocs version : 0.15.3
Build Date UTC : 2016-08-21 20:57:13.171141
-->
